
# Клиент

## Окна

- [ ] **Главное окно**

Зачем:
- Просмотр общей инфы:
    - Статус сейчас (убрать дату обновления - в принципе лишняя инфа)
	- График на сегодня (оставить табличку, но интереснее)
	- Какие есть невыполненные задачи (точнее сортировку) (карусельку сделать)

Нужно переделать оформление и добавить задачи на выполнение и которые надо принять

- [ ] **Менюха**

Вывести отдел к имени сотрудника

- [ ] **Выбор графика**

*Зачем:*
- Просмотр графиков по критериям:
    - Дата начала и конца для периода
	- Фильтр по типам графика (Рабочий, выходной, будний, отпуск)
- Сохранение графиков в памяти
- Удаление графиков

- [ ] **Просмотр графика**

*Зачем:* Просматривает коллекцию графиков

Сделать карусельку для просмтора (круче работает гыгыыгы )

- [ ] **Настройки**

*Зачем:* естесна просматривать найстройки

Добавить параметр при создании (если `true`, то можно нажать кнопяху "выйти")

Добавить кнопку очистки списка сохраненных планов

- [ ] **Просмотр списка задач**

*Зачем:* Смотреть список задач по фильтру:
- С какой даты смотреть
- Фильтр по стадии (Приянто, выполнено, нада принять)

- [ ] **Просмотр конкретной задачи**

*Зачем:* Показывает подробную инфу по задаче (кто, зачем и почему дал)


## Над чем надо подумать:
- Переработать окно просмотра графика (Возможно сделать доп.окно для любых графиков, а главное окно в виде слайдиков)
- Окно просмотра заданий
- Окно просмотра уже выполненных заданий? (тоже типа архивы)
- Подумать над главным окном
- Сделать для каждой цели собственного iclient -> для статуса, для плана, авторизации, получения информации о работнике
- Добавить название отдела куда-нибудь
- Оптимизировать меню (чтобы не создавал по тыщу раз, а выгружал из памяти)
- Для кнопки "Выход" добавить окно подтверждения


# Общие функции


- [ ] - Просмотр графика с типами дней
- [ ] - Сохранение графика в кэше (???)
- [ ] - Просмотр и выполнение заданий
- [ ] - Просмотр выполненных заданий (???)
- [ ] - Отключение установки статуса при нерабочем статусе
- [ ] - Отключение выполения квестов при нерабочем статусе



# Сервер


- [x] Доработки старого:
    - [x] переименовать ~quest~ на task в БД
    - [x] Отдельная библиотека классов для json-запросов

- [x] - Перестройка API под новую базу данных
    - [x] Таблица workers (	+ Department + автовыбор; - Mail, BirthDate, Rate, AccessLevel не нужен)
    - [x] Таблица Plans (переделать Total на тип Плана)	
    	
- [x] Фичи:
    - [x] Выгрузка видов плана api/Plans GET ++
    - [x] Объеденить api/Autho и api/Connection --
    - [x] Получение типов планов api/Plans GET ++
    - [x] Получение стадии задач api/Task GET ++
    - [x] Получение задач по параметрам: сессия, [стадии задач], дата получения, (дата завершения - ?) api/Task POST
    - [x] Установка выполненных задач по параметрам: сессия, номер задачи, новая стадия api/Task PUT

Допы:
- [ ] Для отпусков и больничных в api/Status POST сделать вывод даты начала
- [x] **Вери юзефул** - Перейти на новый логгер (Например `NLog`)
- [ ] Проверка наличия струтктур таблиц после подключения
- [ ] Переделать `DBClient` и конфиги: Переделать список статусов, стадий, типов дней на словари и добавить их в конфиг

## Общие данные по API:


|Готовность	          |Контроллер|Тип запроса| Краткое описание                                     |Комментарий|
|:-------------------:|:--------:|:---------:|------------------------------------------------------|-----------|
|:heavy_check_mark:   |Autho     |POST       | Авторизация по логину и паролю                       ||
|:heavy_check_mark:   |          |PUT        | Авторизация по сессии, продление времени жизни сессии||
|:heavy_check_mark:   |Status    |GET        | Получение всех видов статуса                         ||
|:heavy_check_mark:   |          |POST       | Получение статуса работника                          ||
|:heavy_check_mark:   |          |PUT        | Установка нового статуса                             ||
|:heavy_check_mark:   |Plan      |GET        | Получение видов графиков                             ||
|:heavy_check_mark:   |          |POST       | Получение всех графиков                              ||
|:heavy_check_mark:   |Task      |GET        | Получение стадий заданий                             ||
|:heavy_check_mark:   |          |POST       | Получение заданий по параметрам                      ||
|:heavy_check_mark:   |          |PUT        | Установка новых значений                             ||
|:heavy_check_mark:   |Worker    |POST       | Получение информации о работнике                     ||

*:heavy_check_mark: - готов, :black_square_button: - не готов*

Хеш: 


```cs
public string GetMyHash(string Input)
{
	var a = SHA1.Create();
	var h = a.ComputeHash(Encoding.UTF8.GetBytes("Хэшируемая строка"));
	StringBuilder builder = new StringBuilder();
	for (int i = 0; i < h.Length; i++)
	{
		builder.Append(h[i].ToString("x2"));
	}
	return builder.ToString();
}
```

## Феатуре - нот феатуре

? - На мобилке создавались разные сессии при авторизации, потом потестить